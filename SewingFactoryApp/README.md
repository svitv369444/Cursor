# Швейное производство - Android приложение

Android приложение для учета выработки и расчета заработной платы на швейном производстве с интеграцией с 1С.

## Функциональность

### Основные возможности:
- **Сканирование QR-кодов** - швея сканирует QR код задания для начала работы
- **Учет выработки** - автоматический подсчет выполненных изделий
- **Расчет заработной платы** - автоматический расчет заработка на основе выполненной работы
- **Статистика работника** - просмотр статистики за день/период
- **Интеграция с 1С** - синхронизация данных с системой 1С

### Рабочий процесс:
1. В 1С заводится изделие и создается задание
2. Распечатывается QR код задания
3. Швея сканирует QR код в приложении
4. Задание автоматически назначается работнику
5. Швея начинает работу над заданием
6. По завершении указывается количество выполненных изделий
7. Данные синхронизируются с 1С
8. Автоматически рассчитывается заработок

## Технологии

- **Язык**: Kotlin
- **UI**: Android Views с Material Design 3
- **Архитектура**: MVVM с Repository pattern
- **База данных**: Room (SQLite)
- **Сеть**: Retrofit + OkHttp
- **QR сканер**: ZXing Android Embedded
- **Асинхронность**: Kotlin Coroutines + LiveData

## Структура проекта

```
app/src/main/java/com/sewingfactory/
├── data/                    # Модели данных и база данных
│   ├── dao/                # Data Access Objects
│   ├── Product.kt          # Модель изделия
│   ├── Worker.kt           # Модель работника
│   ├── WorkTask.kt         # Модель задания
│   ├── WorkSession.kt      # Модель рабочей сессии
│   ├── AppDatabase.kt      # Основная база данных
│   └── Converters.kt       # Конвертеры для Room
├── api/                    # API для интеграции с 1С
│   ├── OneCApiService.kt   # Интерфейс API
│   └── ApiClient.kt        # HTTP клиент
├── repository/             # Репозиторий для работы с данными
│   └── SewingFactoryRepository.kt
├── viewmodel/              # ViewModels
│   └── MainViewModel.kt
├── adapter/                # Адаптеры для RecyclerView
│   ├── WorkerAdapter.kt
│   └── TaskAdapter.kt
└── MainActivity.kt         # Главная активность
```

## Настройка интеграции с 1С

1. В файле `ApiClient.kt` измените `BASE_URL` на адрес вашего сервера 1С
2. Настройте в 1С REST API для обмена данными
3. Реализуйте следующие endpoint'ы в 1С:
   - `GET /products` - получение списка изделий
   - `GET /workers` - получение списка работников
   - `GET /tasks` - получение списка заданий
   - `GET /tasks/{id}` - получение задания по QR коду
   - `POST /tasks/{id}/complete` - отправка информации о завершении задания

## Установка и запуск

1. Клонируйте репозиторий
2. Откройте проект в Android Studio
3. Настройте URL для интеграции с 1С в `ApiClient.kt`
4. Соберите и установите приложение на устройство
5. Выполните первичную синхронизацию с 1С

## Требования

- Android 7.0 (API level 24) и выше
- Камера для сканирования QR кодов
- Доступ к интернету для синхронизации с 1С

## Безопасность

- Все данные хранятся локально в зашифрованной базе данных
- Сетевые запросы логируются только в debug версии
- Поддерживается резервное копирование настроек (исключая базу данных)

## Лицензия

Проект создан для внутреннего использования на швейном производстве.

## Поддержка

При возникновении вопросов или проблем обращайтесь к разработчику.